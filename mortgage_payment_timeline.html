<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mr. Cooper Mortgage Payment Timeline</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e6ed;
            min-height: 100vh;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(20, 25, 40, 0.95);
            border-radius: 15px;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.1), 0 0 80px rgba(138, 43, 226, 0.05);
            overflow: hidden;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .header {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
            color: #00ffff;
            padding: 30px;
            text-align: center;
            border-bottom: 2px solid #00ffff;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        .property-info {
            background: rgba(10, 15, 30, 0.8);
            padding: 20px;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
        }
        .property-info h2 {
            color: #00ffff;
            margin-top: 0;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        .timeline-container {
            padding: 30px;
            background: rgba(15, 20, 35, 0.6);
        }
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        .timeline::before {
            content: '';
            position: absolute;
            left: 15px;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(to bottom, #00ffff, #8a2be2);
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        .timeline-item {
            position: relative;
            margin-bottom: 30px;
            background: rgba(20, 25, 40, 0.9);
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            overflow: hidden;
            border-left: 3px solid #00ffff;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .timeline-item::before {
            content: '';
            position: absolute;
            left: -37px;
            top: 20px;
            width: 16px;
            height: 16px;
            background: #00ffff;
            border: 4px solid #1a1a2e;
            border-radius: 50%;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.8);
        }
        .timeline-header {
            background: linear-gradient(135deg, #1a1a2e 0%, #0f0f23 100%);
            color: #00ffff;
            padding: 15px 25px;
            font-weight: bold;
            font-size: 1.1em;
            border-bottom: 1px solid rgba(0, 255, 255, 0.3);
        }
        .timeline-content {
            padding: 20px 25px;
        }
        .payment-amount {
            font-size: 1.4em;
            font-weight: bold;
            color: #00ff88;
            margin: 10px 0;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        .payment-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .detail-item {
            background: rgba(15, 20, 35, 0.8);
            padding: 10px;
            border-radius: 8px;
            border-left: 4px solid #00ffff;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .detail-label {
            font-weight: bold;
            color: #b0b0b0;
            font-size: 0.9em;
        }
        .detail-value {
            font-size: 1.1em;
            color: #e0e6ed;
        }
        .status-paid {
            border-left-color: #00ff88;
            background: rgba(0, 255, 136, 0.1);
            border-color: rgba(0, 255, 136, 0.3);
        }
        .status-missed {
            border-left-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            border: 3px solid #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
        }
        .status-late {
            border-left-color: #ffd93d;
            background: rgba(255, 217, 61, 0.1);
            border: 3px solid #ffd93d;
            box-shadow: 0 0 15px rgba(255, 217, 61, 0.3);
        }
        .escrow-event {
            border-left-color: #8a2be2;
        }
        .escrow-event::before {
            background: #8a2be2;
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.8);
        }
        .fee-event {
            border-left-color: #ff6b6b;
        }
        .fee-event::before {
            background: #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.8);
        }
        .reversal-event {
            border-left-color: #888;
        }
        .reversal-event::before {
            background: #888;
            box-shadow: 0 0 15px rgba(136, 136, 136, 0.5);
        }
        .summary-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
            padding: 20px;
            background: rgba(10, 15, 30, 0.6);
            border-radius: 10px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .stat-card {
            background: rgba(20, 25, 40, 0.9);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            border: 1px solid rgba(0, 255, 255, 0.3);
        }
        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #00ffff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
        }
        .stat-label {
            color: #b0b0b0;
            margin-top: 5px;
        }
        .note {
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 8px;
            padding: 15px;
            margin: 20px 0;
            color: #e0e6ed;
        }
        .cost-breakdown {
            background: rgba(10, 15, 30, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .cost-breakdown h3 {
            color: #00ffff;
            margin-top: 0;
            border-bottom: 2px solid #00ffff;
            padding-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        .cost-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .cost-item {
            background: rgba(20, 25, 40, 0.9);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #00ff88;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
            border: 1px solid rgba(0, 255, 136, 0.2);
        }
        .total-cost {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.2) 0%, rgba(0, 255, 255, 0.2) 100%);
            color: #00ffff;
            font-weight: bold;
            font-size: 1.1em;
            border: 2px solid #00ffff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }
        .rental-period {
            border-left-color: #ffd93d;
        }
        .vacant-period {
            border-left-color: #ff6b6b;
        }
        .financial-dashboard {
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.15) 0%, rgba(138, 43, 226, 0.15) 100%);
            color: #e0e6ed;
            border-radius: 15px;
            padding: 25px;
            margin: 25px 0;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.2);
            border: 3px solid #ff6b6b;
        }
        .dashboard-header {
            font-size: 1.8em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            text-shadow: 0 0 20px rgba(255, 107, 107, 0.5);
            color: #ff6b6b;
        }
        .current-date {
            background: rgba(0, 255, 255, 0.15);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.3em;
            font-weight: bold;
            border: 2px solid #00ffff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }
        .countdown-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .countdown-item {
            background: rgba(20, 25, 40, 0.8);
            padding: 15px;
            border-radius: 10px;
            border: 2px solid rgba(0, 255, 255, 0.3);
        }
        .countdown-urgent {
            background: rgba(255, 217, 61, 0.1);
            border: 3px solid #ffd93d;
            box-shadow: 0 0 20px rgba(255, 217, 61, 0.4);
            animation: pulse 2s infinite;
        }
        .countdown-overdue {
            background: rgba(255, 107, 107, 0.1);
            border: 3px solid #ff6b6b;
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.4);
            animation: pulse 1s infinite;
        }
        @keyframes pulse {
            0% { box-shadow: 0 0 20px rgba(255,255,255,0.2); }
            70% { box-shadow: 0 0 30px rgba(255,255,255,0.6); }
            100% { box-shadow: 0 0 20px rgba(255,255,255,0.2); }
        }
        .countdown-title {
            font-weight: bold;
            font-size: 1.1em;
            margin-bottom: 8px;
            color: #00ffff;
        }
        .countdown-amount {
            font-size: 1.3em;
            font-weight: bold;
            margin: 5px 0;
            color: #00ff88;
        }
        .countdown-days {
            font-size: 1.5em;
            font-weight: bold;
            color: #ffd93d;
            text-shadow: 0 0 10px rgba(255, 217, 61, 0.5);
        }
        .countdown-risk {
            font-size: 0.9em;
            margin-top: 8px;
            font-style: italic;
            color: #b0b0b0;
        }
        .calculator-section {
            background: rgba(15, 20, 35, 0.95);
            border-radius: 15px;
            box-shadow: 0 0 40px rgba(138, 43, 226, 0.2);
            margin: 30px 0;
            overflow: hidden;
            border: 2px solid rgba(138, 43, 226, 0.4);
        }
        .calculator-header {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a1a2e 100%);
            color: #8a2be2;
            padding: 25px;
            text-align: center;
            border-bottom: 2px solid #8a2be2;
        }
        .calculator-header h2 {
            margin: 0;
            font-size: 2em;
            text-shadow: 0 0 20px rgba(138, 43, 226, 0.5);
        }
        .timeline-matrix-container {
            background: rgba(10, 15, 30, 0.9);
            border-radius: 15px;
            padding: 25px;
            margin: 20px;
            border: 2px solid #00ffff;
            box-shadow: 0 0 30px rgba(0, 255, 255, 0.2);
        }
        .timeline-matrix-header {
            text-align: center;
            margin-bottom: 20px;
            color: #00ffff;
            font-size: 1.5em;
            font-weight: bold;
            text-shadow: 0 0 15px rgba(0, 255, 255, 0.5);
        }
        .timeline-matrix {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }
        .timeline-month {
            background: rgba(20, 25, 40, 0.9);
            border: 2px solid #8a2be2;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.3);
        }
        .timeline-month.current {
            border-color: #00ffff;
            background: rgba(0, 255, 255, 0.1);
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        .month-title {
            font-weight: bold;
            color: #8a2be2;
            margin-bottom: 10px;
            font-size: 1.1em;
        }
        .timeline-month.current .month-title {
            color: #00ffff;
        }
        .month-costs {
            font-size: 0.9em;
            line-height: 1.4;
        }
        .month-total {
            font-weight: bold;
            color: #ff6b6b;
            font-size: 1.1em;
            margin-top: 8px;
            padding-top: 8px;
            border-top: 1px solid rgba(255, 107, 107, 0.3);
        }
        .cumulative-impact {
            background: rgba(255, 107, 107, 0.1);
            border: 3px solid #ff6b6b;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 0 25px rgba(255, 107, 107, 0.3);
        }
        .calculator-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            padding: 30px;
        }
        .input-section {
            space-y: 20px;
        }
        .input-group {
            background: rgba(20, 25, 40, 0.8);
            border: 2px solid rgba(0, 255, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .input-group.debt {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.05);
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.2);
        }
        .input-group.costs {
            border-color: #00ff88;
            background: rgba(0, 255, 136, 0.05);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.2);
        }
        .input-group.market {
            border-color: #8a2be2;
            background: rgba(138, 43, 226, 0.05);
            box-shadow: 0 0 15px rgba(138, 43, 226, 0.2);
        }
        .input-group h3 {
            margin: 0 0 15px 0;
            font-size: 1.1em;
            font-weight: bold;
            color: #00ffff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        .input-group.debt h3 {
            color: #ff6b6b;
            text-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
        }
        .input-group.costs h3 {
            color: #00ff88;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.3);
        }
        .input-group.market h3 {
            color: #8a2be2;
            text-shadow: 0 0 10px rgba(138, 43, 226, 0.3);
        }
        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }
        .input-item {
            display: flex;
            flex-direction: column;
        }
        .input-item label {
            font-size: 0.9em;
            font-weight: 600;
            color: #b0b0b0;
            margin-bottom: 5px;
        }
        .input-item.critical label {
            color: #ff6b6b;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 107, 107, 0.3);
        }
        .input-item input {
            padding: 8px 12px;
            border: 1px solid rgba(0, 255, 255, 0.3);
            border-radius: 6px;
            font-size: 0.95em;
            transition: all 0.3s;
            background: rgba(10, 15, 30, 0.8);
            color: #e0e6ed;
        }
        .input-item input:focus {
            outline: none;
            border-color: #00ffff;
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.3);
        }
        .input-item.critical input {
            border-color: #ff6b6b;
            background: rgba(255, 107, 107, 0.1);
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.2);
        }
        .results-section {
            space-y: 20px;
        }
        .breakeven-result {
            padding: 25px;
            border-radius: 12px;
            border: 3px solid;
            margin-bottom: 20px;
            text-align: center;
        }
        .breakeven-result.needs-cash {
            background: rgba(255, 107, 107, 0.1);
            border-color: #ff6b6b;
            box-shadow: 0 0 25px rgba(255, 107, 107, 0.3);
        }
        .breakeven-result.surplus {
            background: rgba(0, 255, 136, 0.1);
            border-color: #00ff88;
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.3);
        }
        .breakeven-price {
            font-size: 2.2em;
            font-weight: bold;
            color: #00ffff;
            margin: 10px 0;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }
        .cash-status {
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-weight: bold;
        }
        .cash-required {
            background: rgba(255, 107, 107, 0.2);
            color: #ff6b6b;
            border: 2px solid #ff6b6b;
            box-shadow: 0 0 15px rgba(255, 107, 107, 0.3);
        }
        .cash-surplus {
            background: rgba(0, 255, 136, 0.2);
            color: #00ff88;
            border: 2px solid #00ff88;
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
        }
        .breakdown-section {
            background: rgba(10, 15, 30, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid rgba(0, 255, 255, 0.2);
        }
        .breakdown-section h4 {
            margin: 0 0 15px 0;
            font-weight: bold;
            color: #00ffff;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        .breakdown-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            color: #e0e6ed;
        }
        .breakdown-item:last-child {
            border-bottom: none;
            padding-top: 8px;
            border-top: 2px solid #00ffff;
            font-weight: bold;
            color: #00ffff;
        }
        .breakdown-item.critical {
            color: #ff6b6b;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 107, 107, 0.3);
        }
        .verification-section {
            background: rgba(0, 255, 255, 0.05);
            border: 2px solid #00ffff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.2);
        }
        .market-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            background: rgba(20, 25, 40, 0.9);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            border: 1px solid rgba(0, 255, 255, 0.3);
        }
        @media (max-width: 768px) {
            .calculator-grid {
                grid-template-columns: 1fr;
            }
            .input-row {
                grid-template-columns: 1fr;
            }
            .market-comparison {
                grid-template-columns: 1fr;
            }
            .timeline-matrix {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🏠 Mr. Cooper Mortgage Payment Timeline</h1>
            <p>Comprehensive Payment History for Philadelphia Property</p>
        </div>
        
        <div class="property-info">
            <h2>Property Information</h2>
            <div class="payment-details">
                <div class="detail-item">
                    <div class="detail-label">Property Address</div>
                    <div class="detail-value">246 N 3rd St, Unit 4CD<br>Philadelphia, PA 19106</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Loan Number</div>
                    <div class="detail-value">0705555894</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Mortgage Servicer</div>
                    <div class="detail-value">Mr. Cooper (Nationstar Mortgage LLC)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Current Principal Balance</div>
                    <div class="detail-value">$340,429.00 (June 2025)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Loan Maturity Date</div>
                    <div class="detail-value">May 1, 2052</div>
                </div>
            </div>
        </div>

        <div class="financial-dashboard">
            <div class="dashboard-header">⚠️ URGENT FINANCIAL STATUS DASHBOARD</div>
            <div class="current-date">📅 Current Date: Monday, July 7, 2025</div>
            
            <div class="countdown-grid">
                <div class="countdown-item countdown-urgent">
                    <div class="countdown-title">🏠 Next Mortgage Payment</div>
                    <div class="countdown-amount">$2,544.13</div>
                    <div class="countdown-days">DUE IN 9 DAYS</div>
                    <div>Due: July 16, 2025</div>
                    <div class="countdown-risk">⚠️ Late fee $88.55 if paid after July 16th</div>
                </div>
                
                <div class="countdown-item">
                    <div class="countdown-title">🏢 Next HOA Payment</div>
                    <div class="countdown-amount">$813.00</div>
                    <div class="countdown-days">DUE IN 25 DAYS</div>
                    <div>Due: August 1, 2025</div>
                    <div class="countdown-risk">💰 $50 late fee if paid after 1st but before 16th</div>
                </div>
                
                <div class="countdown-item">
                    <div class="countdown-title">⚡ PECO Energy Bill (Variable)</div>
                    <div class="countdown-amount">~$145.00</div>
                    <div class="countdown-days">DUE IN ~18 DAYS</div>
                    <div>Due: ~July 25, 2025</div>
                    <div class="countdown-risk">Vacant property - owners pay (tenants pay when occupied)</div>
                </div>
                
                <div class="countdown-item countdown-urgent">
                    <div class="countdown-title">💸 Total July Obligations</div>
                    <div class="countdown-amount">$3,502.13</div>
                    <div class="countdown-days">IMMEDIATE</div>
                    <div>Fixed costs + PECO (vacant)</div>
                    <div class="countdown-risk">🚨 No rental income to offset costs</div>
                </div>
                
                <div class="countdown-item countdown-overdue">
                    <div class="countdown-title">📊 Monthly Deficit (Vacant)</div>
                    <div class="countdown-amount">-$3,502.13</div>
                    <div class="countdown-days">ONGOING</div>
                    <div>Fixed costs + variable costs (no tenants)</div>
                    <div class="countdown-risk">🚨 Unsustainable financial burden</div>
                </div>
                
                <div class="countdown-item">
                    <div class="countdown-title">📈 Annual Projection (Vacant)</div>
                    <div class="countdown-amount">-$42,026</div>
                    <div class="countdown-days">2025 LOSS</div>
                    <div>If vacancy continues (includes PECO)</div>
                    <div class="countdown-risk">Plus property value decline continuing</div>
                </div>
            </div>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(255,255,255,0.1); border-radius: 8px; text-align: center;">
                <strong>🚨 CRITICAL NOTICE:</strong> Property has been vacant for 9+ months with $3,357.13 monthly fixed costs plus $145 PECO variable cost, totaling $3,502.13 monthly burden with no offsetting rental income. Combined financial impact now exceeds $142,000 including property value decline.
            </div>
        </div>

        <div class="calculator-section">
            <div class="calculator-header">
                <h2>🎯 COMPREHENSIVE BREAK-EVEN ANALYSIS</h2>
                <p>246 N 3rd St, Unit 4CD - Master Financial Model</p>
                <p style="font-size: 0.9em; opacity: 0.9;">Calculate true break-even with ALL ongoing costs during sale timeline</p>
            </div>
            
            <!-- Timeline Dot Matrix - CENTERPIECE -->
            <div class="timeline-matrix-container">
                <div class="timeline-matrix-header">
                    📅 DYNAMIC SALE TIMELINE: COMPREHENSIVE MONTHLY COSTS
                </div>
                <div class="timeline-matrix" id="timelineMatrix">
                    <!-- Dynamic timeline months will be generated here -->
                </div>
                <div class="cumulative-impact">
                    <h4 style="margin: 0 0 10px 0; color: #ff6b6b;">💸 CUMULATIVE FINANCIAL IMPACT</h4>
                    <div id="cumulativeTotal" style="font-size: 1.8em; font-weight: bold; color: #ff6b6b;">$0</div>
                    <div style="font-size: 0.9em; margin-top: 5px; color: #b0b0b0;">Total additional costs during sale process</div>
                </div>
            </div>
            
            <div class="calculator-grid">
                <div class="input-section">
                    <h3 style="color: #8a2be2; border-bottom: 2px solid #8a2be2; padding-bottom: 10px;">🔧 Master Analysis Parameters</h3>
                    
                    <div class="input-group debt">
                        <h3>🏠 Fixed Debt Obligations</h3>
                        <div class="input-item">
                            <label>Mortgage Principal Balance</label>
                            <input type="number" id="mortgageBalance" value="340429">
                        </div>
                        <div class="input-row">
                            <div class="input-item">
                                <label>July 16 Payment Due</label>
                                <input type="number" id="julyPayment" value="2544.13">
                            </div>
                            <div class="input-item">
                                <label>August 1 HOA Due</label>
                                <input type="number" id="augustHOA" value="813">
                            </div>
                        </div>
                        <div class="input-item critical">
                            <label>🚨 Back HOA Dues Owed</label>
                            <input type="number" id="backHOADues" value="6000">
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <h3>⏱️ Sale Timeline & Ongoing Costs</h3>
                        <div class="input-row">
                            <div class="input-item">
                                <label>Sale Timeline (months)</label>
                                <input type="number" id="saleTimelineMonths" value="3">
                            </div>
                            <div class="input-item">
                                <label>Monthly Mortgage Payment</label>
                                <input type="number" id="monthlyMortgage" value="2544.13">
                            </div>
                        </div>
                        <div class="input-row">
                            <div class="input-item">
                                <label>Monthly HOA Fee</label>
                                <input type="number" id="monthlyHOA" value="813">
                            </div>
                            <div class="input-item">
                                <label>Monthly PECO (Vacant)</label>
                                <input type="number" id="monthlyPECO" value="145">
                            </div>
                        </div>
                        <div class="input-row">
                            <div class="input-item">
                                <label>Property Insurance (Monthly)</label>
                                <input type="number" id="monthlyInsurance" value="100">
                            </div>
                            <div class="input-item">
                                <label>Maintenance/Staging Costs</label>
                                <input type="number" id="stagingCosts" value="2000">
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group costs">
                        <h3>💰 Closing Costs (%)</h3>
                        <div class="input-row">
                            <div class="input-item">
                                <label>Philly Transfer Tax %</label>
                                <input type="number" step="0.001" id="phillyTransferTax" value="3.578">
                            </div>
                            <div class="input-item">
                                <label>State Transfer Tax %</label>
                                <input type="number" step="0.1" id="stateTransferTax" value="1.0">
                            </div>
                        </div>
                        <div class="input-row">
                            <div class="input-item">
                                <label>Realtor Commission %</label>
                                <input type="number" step="0.1" id="realtorCommission" value="5.5">
                            </div>
                            <div class="input-item">
                                <label>Other Closing Costs $</label>
                                <input type="number" id="otherClosingCosts" value="2500">
                            </div>
                        </div>
                    </div>
                    
                    <div class="input-group market">
                        <h3>📊 Market Reality Check</h3>
                        <div class="input-item">
                            <label>Current Market Price</label>
                            <input type="number" id="currentMarketPrice" value="379900">
                        </div>
                    </div>
                </div>
                
                <div class="results-section">
                    <h3 style="color: #00ff88; border-bottom: 2px solid #00ff88; padding-bottom: 10px;">💎 Master Analysis Results</h3>
                    
                    <div id="breakevenResult" class="breakeven-result">
                        <h4 style="margin: 0; font-size: 1.5em; color: #8a2be2;">True Break-Even Price</h4>
                        <div id="breakevenPrice" class="breakeven-price">$0</div>
                        
                        <div class="market-comparison">
                            <div>
                                <p style="margin: 0; font-size: 0.9em; color: #b0b0b0;">Current Market Price</p>
                                <p id="currentPrice" style="margin: 5px 0; font-size: 1.2em; font-weight: bold; color: #e0e6ed;">$0</p>
                            </div>
                            <div>
                                <p style="margin: 0; font-size: 0.9em; color: #b0b0b0;">True Break-Even Price</p>
                                <p id="breakevenPriceDisplay" style="margin: 5px 0; font-size: 1.2em; font-weight: bold; color: #e0e6ed;">$0</p>
                            </div>
                        </div>
                        
                        <div id="cashStatus" class="cash-status">
                            <div id="cashStatusText"></div>
                            <div id="cashAmount" style="font-size: 1.5em; margin-top: 5px;"></div>
                        </div>
                    </div>
                    
                    <div class="breakdown-section">
                        <h4>💀 Comprehensive Fixed Costs</h4>
                        <div id="fixedCostsBreakdown"></div>
                    </div>
                    
                    <div class="breakdown-section">
                        <h4>📈 Timeline Carrying Costs</h4>
                        <div id="timelineCostsBreakdown"></div>
                    </div>
                    
                    <div class="breakdown-section">
                        <h4>💸 Closing Costs (% of Sale Price)</h4>
                        <div id="closingCostsBreakdown"></div>
                    </div>
                    
                    <div class="verification-section">
                        <h4 style="color: #00ffff; margin-bottom: 15px;">🔍 Mathematical Verification</h4>
                        <div id="verificationBreakdown"></div>
                    </div>
                </div>
            </div>
            
            <div style="background: #0a0a1a; color: #8a2be2; padding: 20px; text-align: center; border-top: 2px solid #8a2be2;">
                <p style="margin: 0; opacity: 0.8;">🎯 Master Analysis • July 7, 2025 • All Monthly Costs Included • Philadelphia Transfer Tax Rates</p>
                <p style="margin: 5px 0 0 0; font-size: 0.9em; opacity: 0.6;">Comprehensive financial model for informed decision-making</p>
            </div>
        </div>

        <div class="cost-breakdown">
            <h3>📊 Monthly Fixed Costs Analysis</h3>
            <div class="note">
                <strong>Current Property Value:</strong> $379,900 (May 2025 - down from $465,000 initial listing)<br>
                <strong>Property Details:</strong> 2BR/2BA, 1,400 sqft, Corner Unit with Skyline Views<br>
                <strong>Market Performance:</strong> 110 days on Zillow, 832 views, 46 saves<br>
                <strong>Rental History:</strong> $2,800/month (Oct 1, 2023 - Sep 30, 2024)<br>
                <strong>Vacancy Period:</strong> October 1, 2024 - Present (9+ months as of July 2025)
            </div>
            
            <div class="cost-grid">
                <div class="cost-item">
                    <div class="detail-label">Mortgage Payment (Current)</div>
                    <div class="detail-value">$2,544.13</div>
                </div>
                <div class="cost-item">
                    <div class="detail-label">HOA Fees (Monthly)</div>
                    <div class="detail-value">$813.00</div>
                </div>
                <div class="cost-item total-cost">
                    <div class="detail-label">Total Monthly Fixed Costs</div>
                    <div class="detail-value">$3,357.13</div>
                </div>
                <div class="cost-item vacant-period">
                    <div class="detail-label">PECO Energy (Variable - Vacant Only)</div>
                    <div class="detail-value">+$145.00</div>
                </div>
                <div class="cost-item vacant-period">
                    <div class="detail-label">Total Current Burden (Vacant)</div>
                    <div class="detail-value">$3,502.13</div>
                </div>
            </div>

            <div class="payment-details" style="margin-top: 20px;">
                <div class="detail-item status-paid">
                    <div class="detail-label">Net Cash Flow (When Rented at $2,800)</div>
                    <div class="detail-value">-$557.13/month</div>
                    <div style="font-size: 0.9em; color: #666;">Tenants pay PECO directly</div>
                </div>
                <div class="detail-item status-missed">
                    <div class="detail-label">Net Cash Flow (When Vacant)</div>
                    <div class="detail-value">-$3,502.13/month</div>
                    <div style="font-size: 0.9em; color: #666;">Owners pay PECO + all fixed costs</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Annual Fixed Costs Only</div>
                    <div class="detail-value">$40,285.56</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Annual Burden When Vacant</div>
                    <div class="detail-value">$42,025.56 (includes PECO)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Escrow Shortage (2024-2025)</div>
                    <div class="detail-value">$1,122.14 (+$93.51/month × 12)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Vacancy Costs (Oct 2024-Jul 2025)</div>
                    <div class="detail-value">~$31,770 (9+ months including PECO burden)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Lost Rental Income</div>
                    <div class="detail-value">~$25,312 (9+ months × $2,800)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Property Value Loss (Jul 2024-May 2025)</div>
                    <div class="detail-value">-$85,100 (-18.3%)</div>
                </div>
                <div class="detail-item">
                    <div class="detail-label">Late Fee Risk (July 2025)</div>
                    <div class="detail-value">$88.55 (if mortgage paid after July 16)</div>
                </div>
            </div>
        </div>

        <div class="timeline-container">
            <h2>Payment & Property Timeline</h2>
            
            <div class="summary-stats">
                <div class="stat-card">
                    <div class="stat-value">$3,357</div>
                    <div class="stat-label">Monthly Fixed Costs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">$3,502</div>
                    <div class="stat-label">Current Burden (Vacant)</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">9 days</div>
                    <div class="stat-label">Until Next Payment Due</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">$57,082</div>
                    <div class="stat-label">Total Vacancy Impact</div>
                </div>
            </div>

            <div class="timeline">
                <!-- 2023 Escrow Review and Payments -->
                <div class="timeline-item escrow-event">
                    <div class="timeline-header">October 19, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">📋 Escrow Review: +$53.53 Surplus</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Escrow Surplus</div>
                                <div class="detail-value">$53.53 (refund check issued)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Payment Decrease</div>
                                <div class="detail-value">$2,416.98 → $2,346.04 (-$70.94)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Escrow Portion Decreased</div>
                                <div class="detail-value">$646.00 → $575.06 (-$70.94)</div>
                            </div>
                        </div>
                        <div class="note">Annual escrow review resulted in surplus due to decreased tax/insurance costs. Payment reduced effective December 1, 2023.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">June 1, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Escrow Adjustment: +$1,793.14</div>
                        <div class="note">Initial escrow adjustment to establish proper reserves for taxes and insurance.</div>
                    </div>
                </div>

                <div class="timeline-item reversal-event">
                    <div class="timeline-header">June 18, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Payment Reversal: -$2,416.98</div>
                        <div class="note">Monthly payment was reversed, likely due to insufficient funds or processing error.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">June 18, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,416.98</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Payment Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Payment Method</div>
                                <div class="detail-value">Regular Monthly Payment</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">July 3, 2023 (Duplicate Entry)</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,416.98</div>
                        <div class="note">Duplicate entry in payment system - same date appears twice in records.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">July 28, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,416.98</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid On Time</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">August 31, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,416.98</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid On Time</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">October 1, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,416.98</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid On Time</div>
                            </div>
                        </div>
                        <div class="note">🏠 <strong>Rental Period Begins:</strong> Property starts generating rental income this month.
                        <br><strong>Actual Rental Income:</strong> $2,800/month (Oct 1, 2023 - Sep 30, 2024)
                        <br><strong>Total Monthly Fixed Costs:</strong> $3,229.98 (mortgage + HOA)
                        <br><strong>Net Cash Flow:</strong> -$429.98/month (tenants pay PECO separately)</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">November 10, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,416.98</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">December 3, 2023</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Payment Change</div>
                                <div class="detail-value">Decreased by $70.94</div>
                            </div>
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                        <div class="note">Payment amount decreased, likely due to escrow adjustment or insurance changes.</div>
                    </div>
                </div>

                <!-- 2024 Payments -->
                <div class="timeline-item">
                    <div class="timeline-header">January 5, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid On Time</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">February 5, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid On Time</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">March 5, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item reversal-event">
                    <div class="timeline-header">March 5, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Payment Reversal: -$2,346.04</div>
                        <div class="note">Payment was reversed on the same day, indicating potential processing issue.</div>
                    </div>
                </div>

                <div class="timeline-item fee-event">
                    <div class="timeline-header">March 18, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Fee Charged: $50.00</div>
                        <div class="note">Service fee or processing fee assessed to account.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">March 18, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">April 8, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">May 6, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">June 4, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">July 1, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Property Listing Timeline -->
                <div class="timeline-item escrow-event">
                    <div class="timeline-header">July 22, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Property Listed for Sale: $465,000</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Initial List Price</div>
                                <div class="detail-value">$465,000 ($332/sqft)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">MLS Number</div>
                                <div class="detail-value">PAPH2377366</div>
                            </div>
                        </div>
                        <div class="note">Property initially listed for sale at $465,000 while still generating rental income.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">August 7, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                        <div class="note">⚠️ <strong>Key Event:</strong> Health insurance coverage terminated this month during active treatment.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">August 19, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Price Reduction #1: $460,000</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$460,000 (-$5,000, -1.1%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$329/sqft</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">September 4, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Escrow Adjustment: +$53.53</div>
                        <div class="note">Minor escrow adjustment for tax/insurance reserves.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">September 9, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                        <div class="note">🏠 <strong>Rental Period Ends:</strong> Last month of $2,800 rental income (Sep 30, 2024).
                        <br><strong>Transition to Vacancy:</strong> Property becomes vacant starting October 1, 2024
                        <br><strong>Financial Impact:</strong> Monthly fixed costs of $3,159.04 + PECO burden now on owners
                        <br><strong>Lost Income:</strong> $2,800/month rental income eliminated</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">September 12, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Price Reduction #2: $450,000</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$450,000 (-$10,000, -2.2%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$321/sqft</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">October 14, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                        <div class="note">⚠️ <strong>Vacancy Period Begins:</strong> October 1, 2024 - Property becomes vacant with no rental income.
                        <br><strong>Financial Burden:</strong> Fixed costs $3,159.04/month + PECO variable cost now borne by owners
                        <br><strong>Lost Annual Income:</strong> $33,600/year ($2,800/month) eliminated
                        <br><strong>Market Pressure:</strong> Property actively listed but declining in value</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">October 17, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Price Reduction #3: $435,000</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$435,000 (-$15,000, -3.3%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$311/sqft</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">November 7, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,346.04</div>
                        <div class="payment-details">
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2024 Escrow Review -->
                <div class="timeline-item fee-event">
                    <div class="timeline-header">October 25, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">📋 Escrow Review: -$1,122.14 Shortage</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Escrow Shortage</div>
                                <div class="detail-value">$1,122.14 (spread over 12 months)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Payment Increase</div>
                                <div class="detail-value">$2,346.04 → $2,494.13 (+$148.09)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Escrow Portion Increased</div>
                                <div class="detail-value">$575.06 → $629.64 (+$54.58)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Shortage Payment Added</div>
                                <div class="detail-value">+$93.51/month for 12 months</div>
                            </div>
                        </div>
                        <div class="note">Annual escrow review revealed shortage due to increased property taxes ($6,703.64 projected) and insurance costs. Payment increase effective December 1, 2024.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">December 6, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Payment Increase Effective</div>
                                <div class="detail-value">New amount due to escrow shortage</div>
                            </div>
                            <div class="detail-item status-paid">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Paid</div>
                            </div>
                        </div>
                        <div class="note">First payment at increased amount of $2,494.13 due to escrow shortage requiring $93.51/month additional payment.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">December 5, 2024</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Price Reduction #4: $434,000</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$434,000 (-$1,000, -0.2%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$310/sqft</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2025 Payments (From Mr. Cooper Statements) -->
                <div class="timeline-item escrow-event">
                    <div class="timeline-header">January 16, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Price Reduction #5: $433,000</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$433,000 (-$1,000, -0.2%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$309/sqft</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item status-late">
                    <div class="timeline-header">January 17, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Payment Increase</div>
                                <div class="detail-value">+$148.09 from previous</div>
                            </div>
                            <div class="detail-item status-late">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Late Payment</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Late Fee</div>
                                <div class="detail-value">$88.55</div>
                            </div>
                        </div>
                        <div class="note">Payment amount increased to $2,494.13. Late fee assessed and paid same day.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">February 15, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Principal</div>
                                <div class="detail-value">$555.39</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Interest</div>
                                <div class="detail-value">$1,215.59</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Escrow</div>
                                <div class="detail-value">$723.15</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">March 11, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Principal</div>
                                <div class="detail-value">$557.36</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Interest</div>
                                <div class="detail-value">$1,213.62</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Escrow</div>
                                <div class="detail-value">$723.15</div>
                            </div>
                        </div>
                        <div class="note">Large escrow disbursements for city taxes: $3,993.63 and $2,975.97 on March 4, 2025.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">March 14, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Listing Temporarily Removed</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Listing Removed from MLS</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Last Price</div>
                                <div class="detail-value">$433,000</div>
                            </div>
                        </div>
                        <div class="note">Property temporarily removed from market after 234 days of unsuccessful selling attempts.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">March 20, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Re-Listed with Major Price Cut: $399,900</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$399,900 (-$33,100, -7.6%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$286/sqft</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">New MLS#</div>
                                <div class="detail-value">PAPH2459674</div>
                            </div>
                        </div>
                        <div class="note">Major price reduction of $33,100 from previous listing. Property re-enters market with fresh MLS listing.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">April 10, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Price Reduction #6: $389,900</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">New Price</div>
                                <div class="detail-value">$389,900 (-$10,000, -2.5%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$279/sqft</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item status-missed">
                    <div class="timeline-header">April 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Payment Missed</div>
                        <div class="payment-details">
                            <div class="detail-item status-missed">
                                <div class="detail-label">Status</div>
                                <div class="detail-value">Overdue Payment</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Amount Due</div>
                                <div class="detail-value">$4,988.26 (2 payments)</div>
                            </div>
                        </div>
                        <div class="note">⚠️ <strong>Critical:</strong> Payment missed in April 2025, leading to doubled amount due in May.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">May 3, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Principal</div>
                                <div class="detail-value">$559.33</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Interest</div>
                                <div class="detail-value">$1,211.65</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">May 13, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Principal</div>
                                <div class="detail-value">$561.31</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Interest</div>
                                <div class="detail-value">$1,209.67</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="timeline-item fee-event">
                    <div class="timeline-header">May 22, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Insufficient Funds Event</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Original Payment</div>
                                <div class="detail-value">$2,494.13</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Payment Reversal</div>
                                <div class="detail-value">-$2,494.13</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">NSF Fee</div>
                                <div class="detail-value">$50.00</div>
                            </div>
                        </div>
                        <div class="note">Payment attempted but reversed due to insufficient funds, resulting in $50 fee.</div>
                    </div>
                </div>

                <div class="timeline-item escrow-event">
                    <div class="timeline-header">May 22, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🏠 Current Price: $379,900</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Latest Price Cut</div>
                                <div class="detail-value">$379,900 (-$10,000, -2.6%)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Price per sqft</div>
                                <div class="detail-value">$271/sqft</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Market Activity</div>
                                <div class="detail-value">110 days on Zillow, 832 views, 46 saves</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Total Price Decline</div>
                                <div class="detail-value">-$85,100 (-18.3%) from initial listing</div>
                            </div>
                        </div>
                        <div class="note">Property now priced at $379,900 after 10 months on market. Total decline of $85,100 from original $465,000 listing price represents significant financial loss amid ongoing fixed costs of $3,357.13/month plus variable costs when vacant.</div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-header">June 14, 2025</div>
                    <div class="timeline-content">
                        <div class="payment-amount">Monthly Payment: $2,494.13</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Principal</div>
                                <div class="detail-value">$563.30</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Interest</div>
                                <div class="detail-value">$1,207.68</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Current Amount Due</div>
                                <div class="detail-value">$2,544.13 (includes $50 fee)</div>
                            </div>
                        </div>
                        <div class="note">Current payment due increased to $2,544.13 due to outstanding $50 NSF fee.
                        <br><strong>Monthly Fixed Costs:</strong> $3,357.13 (mortgage + HOA)
                        <br><strong>Current Total Burden (Vacant):</strong> $3,502.13 (includes PECO variable)
                        <br><strong>Annual Fixed Costs:</strong> $40,285.56</div>
                    </div>
                </div>

                <div class="timeline-item status-missed">
                    <div class="timeline-header">July 7, 2025 - Current Status</div>
                    <div class="timeline-content">
                        <div class="payment-amount">🚨 CRITICAL FINANCIAL EMERGENCY</div>
                        <div class="payment-details">
                            <div class="detail-item">
                                <div class="detail-label">Days Until Next Payment</div>
                                <div class="detail-value">9 DAYS (July 16, 2025)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Vacancy Duration</div>
                                <div class="detail-value">9 months, 7 days (Oct 1, 2024 - Jul 7, 2025)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Current Principal Balance</div>
                                <div class="detail-value">$340,429.00 (June 2025)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Monthly Fixed Costs</div>
                                <div class="detail-value">$3,357.13 (mortgage + HOA)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Current Total Burden (Vacant)</div>
                                <div class="detail-value">$3,502.13 (fixed + PECO variable)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Total Vacancy Costs</div>
                                <div class="detail-value">~$31,770 (9+ months including utilities)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Lost Rental Income</div>
                                <div class="detail-value">~$25,312 (9+ months × $2,800)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Combined Financial Impact</div>
                                <div class="detail-value">~$57,082 (costs + lost income)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Escrow Shortage Burden</div>
                                <div class="detail-value">+$1,122.14 (2024-2025)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Immediate July Obligations</div>
                                <div class="detail-value">$3,502.13 (due in 9 days)</div>
                            </div>
                            <div class="detail-item">
                                <div class="detail-label">Late Fee Risk</div>
                                <div class="detail-value">$88.55 if paid after July 16th</div>
                            </div>
                        </div>
                        <div class="note"><strong>⚠️ EMERGENCY STATUS:</strong> Property vacant 9+ months with $3,357.13 monthly fixed costs plus $145 PECO variable cost (total $3,502.13) and no rental income. Next mortgage payment of $2,544.13 due in 9 days with $88.55 late fee risk. Combined with property value decline of $85,100, total financial impact exceeds $142,000. Escrow shortage added $148.09/month burden during peak financial crisis. Recent payment difficulties and NSF fees indicate imminent foreclosure risk.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Utility functions
        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0,
            }).format(amount);
        }

        function formatPercent(percent) {
            return `${percent.toFixed(3)}%`;
        }

        function getInputValue(id) {
            return parseFloat(document.getElementById(id).value) || 0;
        }

        // Break-even calculator
        function calculateBreakeven() {
            // Get all input values
            const mortgageBalance = getInputValue('mortgageBalance');
            const julyPayment = getInputValue('julyPayment');
            const augustHOA = getInputValue('augustHOA');
            const backHOADues = getInputValue('backHOADues');
            const monthlyHOA = getInputValue('monthlyHOA');
            const saleTimelineMonths = getInputValue('saleTimelineMonths');
            const phillyTransferTax = getInputValue('phillyTransferTax');
            const stateTransferTax = getInputValue('stateTransferTax');
            const realtorCommission = getInputValue('realtorCommission');
            const otherClosingCosts = getInputValue('otherClosingCosts');
            const currentMarketPrice = getInputValue('currentMarketPrice');

            // Fixed costs calculation
            const outstandingPayments = julyPayment + augustHOA;
            const additionalHOA = monthlyHOA * saleTimelineMonths;
            const totalFixedCosts = mortgageBalance + outstandingPayments + backHOADues + additionalHOA;

            // Closing costs calculation
            const totalTransferTaxRate = (phillyTransferTax + stateTransferTax) / 100;
            const sellerTransferTaxRate = totalTransferTaxRate / 2; // Split 50/50
            const commissionRate = realtorCommission / 100;

            const totalPercentageCosts = sellerTransferTaxRate + commissionRate;
            const totalFixedIncludingClosing = totalFixedCosts + otherClosingCosts;

            // Break-even calculation
            const breakevenPrice = totalFixedIncludingClosing / (1 - totalPercentageCosts);

            // Market comparison
            const difference = currentMarketPrice - breakevenPrice;
            const needsCash = difference < 0;
            const cashRequired = Math.abs(difference);

            // Verification at breakeven price
            const transferTaxCost = breakevenPrice * sellerTransferTaxRate;
            const commissionCost = breakevenPrice * commissionRate;
            const totalClosingCosts = transferTaxCost + commissionCost + otherClosingCosts;
            const netProceeds = breakevenPrice - totalClosingCosts;

            return {
                // Fixed costs breakdown
                mortgageBalance,
                outstandingPayments,
                backHOADues,
                additionalHOA,
                totalFixedCosts,
                
                // Closing costs breakdown
                sellerTransferTaxRate: sellerTransferTaxRate * 100,
                commissionRate: commissionRate * 100,
                totalPercentageCosts: totalPercentageCosts * 100,
                otherClosingCosts,
                totalFixedIncludingClosing,
                
                // Results
                breakevenPrice,
                currentMarketPrice,
                difference,
                needsCash,
                cashRequired,
                
                // Verification
                transferTaxCost,
                commissionCost,
                totalClosingCosts,
                netProceeds,
                
                // Timeline
                saleTimelineMonths
            };
        }

        function updateDisplay() {
            const calc = calculateBreakeven();
            
            // Update break-even result
            document.getElementById('breakevenPrice').textContent = formatCurrency(calc.breakevenPrice);
            document.getElementById('breakevenPriceDisplay').textContent = formatCurrency(calc.breakevenPrice);
            document.getElementById('currentPrice').textContent = formatCurrency(calc.currentMarketPrice);
            
            // Update result styling and cash status
            const resultDiv = document.getElementById('breakevenResult');
            const cashStatusDiv = document.getElementById('cashStatus');
            
            if (calc.needsCash) {
                resultDiv.className = 'breakeven-result needs-cash';
                cashStatusDiv.className = 'cash-status cash-required';
                document.getElementById('cashStatusText').textContent = '❌ Cash Required at Closing';
                document.getElementById('cashAmount').textContent = formatCurrency(calc.cashRequired);
            } else {
                resultDiv.className = 'breakeven-result surplus';
                cashStatusDiv.className = 'cash-status cash-surplus';
                document.getElementById('cashStatusText').textContent = '✅ Surplus After Closing';
                document.getElementById('cashAmount').textContent = formatCurrency(calc.cashRequired);
            }
            
            // Update fixed costs breakdown
            const fixedCostsHTML = `
                <div class="breakdown-item">
                    <span>Mortgage Principal Balance</span>
                    <span>${formatCurrency(calc.mortgageBalance)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Outstanding Payments</span>
                    <span>${formatCurrency(calc.outstandingPayments)}</span>
                </div>
                <div class="breakdown-item critical">
                    <span>🚨 Back HOA Dues</span>
                    <span>${formatCurrency(calc.backHOADues)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Additional HOA (${calc.saleTimelineMonths} months)</span>
                    <span>${formatCurrency(calc.additionalHOA)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Total Fixed Costs</span>
                    <span>${formatCurrency(calc.totalFixedCosts)}</span>
                </div>
            `;
            document.getElementById('fixedCostsBreakdown').innerHTML = fixedCostsHTML;
            
            // Update closing costs breakdown
            const closingCostsHTML = `
                <div class="breakdown-item">
                    <span>Transfer Tax (seller's 50%)</span>
                    <span>${formatPercent(calc.sellerTransferTaxRate)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Real Estate Commission</span>
                    <span>${formatPercent(calc.commissionRate)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Other Closing Costs</span>
                    <span>${formatCurrency(calc.otherClosingCosts)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Total Percentage Costs</span>
                    <span>${formatPercent(calc.totalPercentageCosts)}</span>
                </div>
            `;
            document.getElementById('closingCostsBreakdown').innerHTML = closingCostsHTML;
            
            // Update verification
            const verificationHTML = `
                <div class="breakdown-item">
                    <span>Sale Price</span>
                    <span>${formatCurrency(calc.breakevenPrice)}</span>
                </div>
                <div class="breakdown-item" style="color: #dc3545;">
                    <span>Less: Transfer Tax</span>
                    <span>-${formatCurrency(calc.transferTaxCost)}</span>
                </div>
                <div class="breakdown-item" style="color: #dc3545;">
                    <span>Less: Commission</span>
                    <span>-${formatCurrency(calc.commissionCost)}</span>
                </div>
                <div class="breakdown-item" style="color: #dc3545;">
                    <span>Less: Other Costs</span>
                    <span>-${formatCurrency(calc.otherClosingCosts)}</span>
                </div>
                <div class="breakdown-item" style="font-weight: bold;">
                    <span>Net Proceeds</span>
                    <span>${formatCurrency(calc.netProceeds)}</span>
                </div>
                <div class="breakdown-item">
                    <span>Fixed Obligations</span>
                    <span>${formatCurrency(calc.totalFixedCosts)}</span>
                </div>
                <div class="breakdown-item" style="color: #059669; font-weight: bold;">
                    <span>Difference</span>
                    <span>${formatCurrency(calc.netProceeds - calc.totalFixedCosts)}</span>
                </div>
            `;
            document.getElementById('verificationBreakdown').innerHTML = verificationHTML;
        }

        // Add event listeners to all inputs
        function setupEventListeners() {
            const inputs = [
                'mortgageBalance', 'julyPayment', 'augustHOA', 'backHOADues',
                'monthlyHOA', 'saleTimelineMonths', 'phillyTransferTax',
                'stateTransferTax', 'realtorCommission', 'otherClosingCosts',
                'currentMarketPrice'
            ];
            
            inputs.forEach(id => {
                document.getElementById(id).addEventListener('input', updateDisplay);
            });
        }

        // Initialize calculator when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupEventListeners();
            updateDisplay();
        });
    </script>
</body>
</html>